<div class="course-list-container">
    <h2>Courses</h2>
    
    <div *ngIf="loading$ | async" class="loading">
      Loading courses...
    </div>
    
    <div *ngIf="error$ | async as error" class="error">
      {{ error }}
    </div>
    
    <div *ngIf="!(loading$ | async)" class="courses-grid">
      <div 
        *ngFor="let course of courses$ | async" 
        class="course-card"
        (click)="selectCourse(course.id)"
      >
        <h3>{{ course.title }}</h3>
        <p>{{ course.description }}</p>
        <div class="course-meta">
          <span>Students: {{ course.students?.length || 0 }}</span>
          <span>Created: {{ course.createdAt | date }}</span>
        </div>
        <button 
          *ngIf="(currentUser$ | async)?.role === 'student'"
          (click)="enrollInCourse(course.id, $event)"
        >
          Enroll
        </button>
      </div>
    </div>
    
    <app-course *ngIf="(selectedCourse$ | async) as selectedCourse" [course]="selectedCourse"></app-course>
  </div>