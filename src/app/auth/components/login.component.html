<form class="form" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
  <p class="title">Login</p>
  <p class="message">Welcome back! Please login to continue.</p>

  <label>
    <input 
      class="input" 
      type="email" 
      formControlName="email" 
      required 
      placeholder=" " />
    <span>Email</span>
  </label>
  <div *ngIf="email?.invalid && (email?.dirty || email?.touched)" class="error">
    <div *ngIf="email?.errors?.['required']">Email is required</div>
    <div *ngIf="email?.errors?.['email']">Please enter a valid email</div>
  </div>

  <label>
    <input 
      class="input" 
      type="password" 
      formControlName="password" 
      required 
      placeholder=" " />
    <span>Password</span>
  </label>
  <div *ngIf="password?.invalid && (password?.dirty || password?.touched)" class="error">
    <div *ngIf="password?.errors?.['required']">Password is required</div>
    <div *ngIf="password?.errors?.['minlength']">Password must be at least 6 characters</div>
  </div>

  <div *ngIf="error$ | async as error" class="alert alert-danger">
    {{ error }}
  </div>

  <button class="submit" type="submit" [disabled]="loginForm.invalid || (loading$ | async)">
    <span *ngIf="loading$ | async">Loading...</span>
    <span *ngIf="!(loading$ | async)">Login</span>
  </button>

  <p class="signin">Don't have an account? <a routerLink="/register">Register now</a></p>
</form>
