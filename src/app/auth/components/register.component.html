<form class="form" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
  <p class="title">Register</p>
  <p class="message">Signup now and get full access to our app.</p>

  <div class="flex">
    <label>
      <input class="input" type="text" formControlName="displayName" required placeholder=" " />
      <span>Display Name</span>
    </label>

    <label>
      <select class="input" formControlName="role" required>
        <option value="" disabled selected>Select role</option>
        <option value="student">Student</option>
        <option value="teacher">Teacher</option>
        <option value="admin">Admin</option>
      </select>
      <span>Role</span>
    </label>
  </div>

  <label>
    <input class="input" type="email" formControlName="email" required placeholder=" " />
    <span>Email</span>
  </label>

  <label>
    <input class="input" type="password" formControlName="password" required placeholder=" " />
    <span>Password</span>
  </label>

  <label>
    <input class="input" type="password" formControlName="confirmPassword" required placeholder=" " />
    <span>Confirm Password</span>
  </label>

  <div *ngIf="registerForm.errors?.['passwordMismatch']" class="error">
    Passwords do not match
  </div>

  <div *ngIf="error$ | async as error" class="alert alert-danger">
    {{ error }}
  </div>

  <button class="submit" type="submit" [disabled]="registerForm.invalid || (loading$ | async)">
    <span *ngIf="loading$ | async">Loading...</span>
    <span *ngIf="!(loading$ | async)">Register</span>
  </button>

  <p class="signin">Already have an account? <a routerLink="/login">Signin</a></p>
</form>
